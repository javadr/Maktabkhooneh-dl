# ๐ฅ Maktabkhooneh Downloader

## ููุฏูู

[Maktabkhooneh](https://maktabkhooneh.org) ฺฉ ุงุฒ ุจุฒุฑฺฏโุชุฑู ูพูุชูุฑูโูุง MOOC ูุงุฑุณ ุงุณุช ฺฉู ุฏูุฑูโูุง ุฎูุฏ ุฑุง ุงุฒ ุจูุชุฑู ุฏุงูุดฺฏุงูโูุง ุงุฑุงูุ ูุงููุฏ [ุฏุงูุดฺฏุงู ุตูุนุช ุดุฑู](http://sharif.edu) ฺฏุฑุฏุขูุฑ ูโฺฉูุฏ.

ุงู ูพุฑูฺู ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ูุฏููุง ุฏูุฑูโูุง ุฑุง ุจู ุตูุฑุช **Batch** ุฏุงูููุฏ ฺฉูุฏ.
ุจุฑุง ุฏุณุชุฑุณ ุจู ููฺฉโูุง ูุฏูุ ูุงุฒ ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ ูฺฉุชุจโุฎููู ุฏุงุฑุฏ.

---

## โจ ูฺฺฏโูุง

* **ูุฑฺู ฑ** โ ูุณุฎู ุงุตู ุจุฑ ูพุงู **Selenium + geckodriver** (ูพุดุชุจุงู ุงุฒ ูุณุฎูโูุง ูุฏูโุชุฑ ุณุงุช)
* **ูุฑฺู ฒ** โ ูุณุฎู ุจุงุฒููุณ ุดุฏู ุจุง **Playwright** (ุณุฑุนโุชุฑุ ูพุงุฏุงุฑุชุฑุ ุจุฏูู ูุงุฒ ุจู geckodriver)

---

## ๐ฆ ูุตุจ ูุงุจุณุชฺฏโูุง

### ูุณุฎู ฑ (ูุฏู - Selenium)

```bash
pip install -r requirements.txt
```

ููฺูู ูุงุฒ ุฏุงุฑุฏ **geckodriver** ูุตุจ ฺฉูุฏ ุชุง Selenium ุจุชูุงูุฏ ูุฑูุฑฺฏุฑ Firefox ุฑุง ฺฉูุชุฑู ฺฉูุฏ.

---

### ูุณุฎู ฒ (ุฌุฏุฏ - Playwright)

```bash
pip install -r v2/requirements-v2.txt
playwright install
```

---

## โถ๏ธ ูุญูู ุงุฌุฑุง

### ูุณุฎู ฑ โ Selenium

```bash
python maktabkhooneh-dl.py -u <USERNAME> -p <PASSWORD> <COURSE_SLUG>
```

ูุซุงู:

```bash
python maktabkhooneh-dl.py -u test@example.com -p 123456 ุขููุฒุด-ุฑุงฺฏุงู-ุชุญูู-ููุดููุฏ-ุชุตุงูุฑ-ุฒุณุช-ูพุฒุดฺฉ-mk1070
```

---

### ูุณุฎู ฒ โ Playwright

```bash
python v2/maktabkhone-dl-v2.py -u <USERNAME> -p <PASSWORD> <COURSE_URL>
```

ูุซุงู:

```bash
python v2/maktabkhone-dl-v2.py -u test@example.com -p 123456 https://maktabkhooneh.org/course/ุขููุฒุด-ฺฉุงู-Linux-mk4021
```

---

## ๐ ฺฏุฒููโูุง

| ฺฏุฒูู ฺฉูุชุงู   | ฺฏุฒูู ฺฉุงูู            | ุชูุถุญ                                                          |
| ------------- | --------------------- | -------------------------------------------------------------- |
| `-u USERNAME` | `--username USERNAME` | ุงูู ุง ุดูุงุฑู ููุจุงู ฺฉู ุจุง ุขู ูุงุฑุฏ ูฺฉุชุจโุฎููู ูโุดูุฏ         |
| `-p PASSWORD` | `--password PASSWORD` | ุฑูุฒ ุนุจูุฑ                                                       |
| `-i`          | `--interactive`       | ุงูุชุฎุงุจ ุชุนุงูู ุฌูุณุงุช ุจุฑุง ุฏุงูููุฏ                                |
| `-q QUALITY`  | `--quality QUALITY`   | ฺฉูุช ูุฏู (`H` ุจุฑุง ฺฉูุช ุจุงูุงุ `L` ุจุฑุง ูพุงู โ ูพุดโูุฑุถ: H) |
| -             | `--path PATH`         | ูุณุฑ ุฐุฎุฑูโุณุงุฒ ูุงูโูุง (ูพุดโูุฑุถ: ูพูุดู ุฌุงุฑ)                   |

---

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
.
โโโ maktabkhooneh           # ูุณุฎู ฑ (Selenium)
โ   โโโ course.py
โ   โโโ __init__.py
โ   โโโ maktabkhooneh_dl.py
โ   โโโ parser.py
โโโ maktabkhooneh-dl.py     # ุงุณฺฉุฑูพุช ุงุตู ูุณุฎู ฑ
โโโ README.md
โโโ requirements.txt
โโโ v2                      # ูุณุฎู ฒ (Playwright)
    โโโ maktabkhone-dl-v2.py
    โโโ requirements-v2.txt
```

---

## ๐ก ูฺฉุงุช

* ูพุดููุงุฏ ูโุดูุฏ ุงุฒ **ูุณุฎู ฒ** ุงุณุชูุงุฏู ฺฉูุฏ ูฺฏุฑ ุงู ฺฉู ูุงุฒ ุจู ูพุดุชุจุงู ุงุฒ ุณุงุฎุชุงุฑ ูุฏู ูฺฉุชุจโุฎููู ุฏุงุดุชู ุจุงุดุฏ.
* ูุณุฎู ฒ ุณุฑุนุช ุจุงูุงุชุฑุ ูุฏุฑุช ุฎุทุง ุจูุชุฑุ ู ุนุฏู ูุงุฒ ุจู ูุตุจ geckodriver ุฏุงุฑุฏ.
* ูุจู ุงุฒ ุงุฌุฑุง ูุณุฎู ฒ ุญุชูุงู ุฏุณุชูุฑ `playwright install` ุฑุง ุงุฌุฑุง ฺฉูุฏ.
* ุฏุฑ ุตูุฑุช ฺฉู ูุงูุจ ูฺฉุชุจ ุฎููู ุงูพุฏุช ุดุฏู ุจุงุดุฏ ุดูุง ุฏุฑ ูุณุฎู ฒ ฺฉุงูุณุช  ูุณูุช ุณูฺฉุชูุฑโูุง ู ุงูพุฏุช ฺฉูุฏ ุนู ูุณูุช ุฒุฑ:
```python
# -------------------- ุณูฺฉุชูุฑ ูุง --------------------
# ุณูฺฉุชูุฑูุง ุฏุฑ ุตูุญู ุฏูุฑู 
CHAPTER_SELECTOR = "div[id^='course-chapter-']" 
CHAPTER_TITLE_SELECTOR = "div[title^='ูุตู'] span.text-xl" 
LESSON_SELECTOR = "a.group[href*='/ูุฏู-']"
LESSON_TITLE_SELECTOR = "div.BaseChapterContentUnitTitle > span[title]"
# ุณูฺฉุชูุฑ ุฏฺฉูู ุฏุงูููุฏ ุฏุฑ ุตูุญู ุฌูุณู 
DOWNLOAD_SELECTOR = ".unit-content--download a[download]"
# ุณูฺฉุชูุฑ ุฏฺฉูู ูุฑูุฏ
LOGIN_BUTTON_SELECTOR = "button#login.button[type='button']"

# -------------------- ูพุงุงู ุณูฺฉุชูุฑ --------------------

```


